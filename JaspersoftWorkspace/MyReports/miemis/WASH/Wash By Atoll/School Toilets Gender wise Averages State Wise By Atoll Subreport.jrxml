<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.4.0.final using JasperReports Library version 6.4.1  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="School Toilets Gender wise Averages State Wise By State Subreport" pageWidth="612" pageHeight="792" columnWidth="612" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="15fc577e-027f-4fe3-a316-011a1af5203e">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="MIEMIS-OLD"/>
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageHeight" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.topMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.bottomMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.leftMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.rightMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnSpacing" value="pixel"/>
	<template><![CDATA["fedemis/Templates/FedEMIS_Style.jrtx"]]></template>
	<style name="Row" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[$V{REPORT_COUNT}%2 == 0]]></conditionExpression>
			<style backcolor="#ECECEC" fontName="Open Sans Semibold" fontSize="10"/>
		</conditionalStyle>
	</style>
	<style name="Crosstab_CH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Crosstab_CG" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Crosstab_CT" mode="Opaque" backcolor="#005FB3">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Crosstab_CD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Row_Crosstab" style="Crosstab Data" mode="Transparent">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($V{ROW_COUNT}.intValue() % 2 == 1)]]></conditionExpression>
			<style mode="Opaque" backcolor="#ECECEC" hTextAlign="Right"/>
		</conditionalStyle>
	</style>
	<style name="Crosstab 1_CH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Crosstab 1_CG" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Crosstab 1_CT" mode="Opaque" backcolor="#005FB3">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Crosstab 1_CD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<subDataset name="Dataset1" uuid="e36bf2bc-4d66-42f5-a55c-1959fc516de5">
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="MIEMIS-OLD"/>
		<parameter name="Year" class="java.lang.Integer">
			<defaultValueExpression><![CDATA[2019]]></defaultValueExpression>
		</parameter>
		<queryString language="SQL">
			<![CDATA[DECLARE @mainTable int;
set @mainTable=(select count(*) as secondaryTable from warehouse.TempWashCoreSurveyData
 where InspectionYear=$P{Year});

 IF @mainTable>0

BEGIN
   --------------------------------------Query 1----------------------------------------------------
   

select 
z.dName,
z.gender as genderCode,
case when z.Gender ='C' then 'Common'
	 when z.Gender ='M' then 'Boys'
	 else 'Girls' end as toiUse

,sum(z.students) as 'Students', sum(z.toilets) as 'totalToilets', 

isnull(sum(z.students)/nullif(sum(z.toilets),0),0) Average from
 (
	select di.dName, t2.schNo,t2.Gender,t2.toilets,tmp.students from (
		select t1.schNo,t1.Gender,sum(t1.Toilets) as toilets from (
			SELECT cte.schNo,'M' as Gender,
			sum(cast(isnull(BoysToilets,0) as int)) as Toilets
			from warehouse.TempWashCoreSurveyData tmp 
			join (
					Select schNo, MAX(inspStart) inspStart from warehouse.TempWashCoreSurveyData
					where InspectionYear = $P{Year} Group by schNo,InspectionYear
				) cte on 
				tmp.schNo = cte.schNo and tmp.inspStart = cte.inspStart 
				where SubGroupName='Sanitation' and InspectionYear =$P{Year} group by cte.schNo

			UNION ALL

				SELECT cte.schNo,'F' as Gender,
			sum(cast(isnull(GirlsToilets,0) as int)) as Toilets
			from warehouse.TempWashCoreSurveyData tmp 
			join (
					Select schNo, MAX(inspStart) inspStart from warehouse.TempWashCoreSurveyData
					where InspectionYear = $P{Year} Group by schNo,InspectionYear
				) cte on 
				tmp.schNo = cte.schNo and tmp.inspStart = cte.inspStart 
				where SubGroupName='Sanitation' and InspectionYear =$P{Year} group by cte.schNo

		
			UNION ALL

					SELECT cte.schNo,'C' as Gender,
			sum(cast(isnull(CommonUseToilets,0) as int)) as Toilets
			from warehouse.TempWashCoreSurveyData tmp 
			join (
					Select schNo, MAX(inspStart) inspStart from warehouse.TempWashCoreSurveyData
					where InspectionYear = $P{Year} Group by schNo,InspectionYear
				) cte on 
				tmp.schNo = cte.schNo and tmp.inspStart = cte.inspStart 
				where SubGroupName='Sanitation' and InspectionYear =$P{Year} group by cte.schNo

		)t1 group by t1.Gender,t1.schNo
	)t2

	join 

	(
		select st.schno, st.GenderCode,sum(st.Students) as students from (
			select 
				schno, 
				surveyYear,
				GenderCode,
				sum(isnull(Enrol,0)) as Students from 
				warehouse.enrol where surveyYear=$P{Year} group by surveyYear,schNo,GenderCode
			union all
				select 
				schno,
				surveyYear,
				'C',sum(isnull(Enrol,0)) as Students from 
				warehouse.enrol where surveyYear=$P{Year} group by surveyYear,schNo)st group by st.schNo, st.GenderCode
	)tmp on t2.schNo=tmp.schNo and t2.Gender=tmp.GenderCode

	 join Schools s on tmp.schNo=s.schNo
	join Islands i on s.iCode=i.iCode
	join Districts di on i.iGroup=di.dID
)z group by z.dName,z.schNo,z.Gender
	   ------------------------------------End of Query 1-----------------------------------------------
END
ELSE
BEGIN
       --------------------------------------Query 2----------------------------------------------------
select 
	Districts.dName,
	isnull(a.genderCode,'') as genderCode,
	isnull(a.toiUse,'') as toiUse,
	isnull(b.Students,0) as Students,
	isnull(a.totalToilets,0) as totalToilets, 
	case 
	when isnull(b.Students,0)>0 
	then isnull(b.Students/nullif(a.totalToilets,0),0) 
	else 0 end as Average
	from 
			(select t2.dCode,t1.genderCode,t1.toiUse,sum(t1.total) as totalToilets from 
			(
			
			select ssID,
			case when toiUse='Boys' then  'M'
				 when toiUse='Girls' then 'F'
	                    else 'C' end as genderCode,
	toiUse,
	sum(toiNumUsable) as total  
	from Toilets group by toiUse,ssID)t1
	right join
	(select 
		d.dID as 'dCode',
		tts.schNo ,
		SurveyDimensionID 
		from warehouse.TempToiletsSurvey tts
		join Schools sch on tts.schNo=sch.schNo
		join Islands i on sch.iCode=i.iCode
		join Districts d on i.iGroup=d.dID
		where SurveyYear= $P{Year})t2 on t1.ssID=t2.SurveyDimensionID 
group by t2.dCode,t1.genderCode,t1.toiUse)a

left join 
(
	select 
e.dCode as dCode,
e.GenderCode,SUM(e.Students) as Students 
	from (
			select 
				   did as 'dCode',
				   c.schNo,
				   c.surveyYear,
				   c.GenderCode,c.Students 
				   from (select en.schno,
							d.did,
							surveyYear,
							GenderCode,
							sum(isnull(Enrol,0)) as Students 
							from warehouse.enrol en 
							join Schools sch on en.schNo=sch.schNo
							join Islands i on sch.iCode=i.iCode
							join Districts d on i.iGroup=d.dID
							where surveyYear= $P{Year}   group by d.dID, surveyYear,en.schNo,GenderCode
union all
select 
		d.dID  as 'dcode',
		en.schNo,
		surveyYear,
		'C',
		sum(isnull(Enrol,0)) as Students 
		from warehouse.enrol en
		join Schools sch on en.schNo=sch.schNo
		join Islands i on sch.iCode=i.iCode
		join Districts d on i.iGroup=d.dID
		where surveyYear= $P{Year}   group by d.dID,surveyYear,en.schNo)c 
		right join warehouse.TempToiletsSurvey ml on c.schNo=ml.schNo and c.surveyYear=ml.SurveyYear)e 

		inner join warehouse.TempToiletsSurvey ml on e.schNo=ml.schNo and e.surveyYear=ml.SurveyYear 
group by e.dCode,e.GenderCode
)b on a.dCode=b.dCode and a.genderCode=b.GenderCode 

right join Districts on a.dCode=Districts.dID
   ------------------------------------End of Query 2-----------------------------------------------
END]]>
		</queryString>
		<field name="dName" class="java.lang.String"/>
		<field name="genderCode" class="java.lang.String"/>
		<field name="toiUse" class="java.lang.String"/>
		<field name="Students" class="java.lang.Integer"/>
		<field name="totalToilets" class="java.lang.Integer"/>
		<field name="Average" class="java.lang.Integer"/>
		<variable name="TotalStudents" class="java.lang.Integer" calculation="Sum">
			<variableExpression><![CDATA[$F{Students}]]></variableExpression>
		</variable>
		<variable name="TotalToilets" class="java.lang.Integer" calculation="Sum">
			<variableExpression><![CDATA[$F{totalToilets}]]></variableExpression>
		</variable>
		<group name="Group1">
			<groupExpression><![CDATA[$F{dName}]]></groupExpression>
		</group>
	</subDataset>
	<parameter name="Year" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[2019]]></defaultValueExpression>
	</parameter>
	<queryString language="SQL">
		<![CDATA[DECLARE @mainTable int;
set @mainTable=(select count(*) as secondaryTable from warehouse.TempWashCoreSurveyData
 where InspectionYear=$P{Year});

 IF @mainTable>0

BEGIN
   --------------------------------------Query 1----------------------------------------------------
   

select 
z.dName,
z.gender as genderCode,
case when z.Gender ='C' then 'Common'
	 when z.Gender ='M' then 'Boys'
	 else 'Girls' end as toiUse

,sum(z.students) as 'Students', sum(z.toilets) as 'totalToilets', 

isnull(sum(z.students)/nullif(sum(z.toilets),0),0) Average from
 (
	select di.dName, t2.schNo,t2.Gender,t2.toilets,tmp.students from (
		select t1.schNo,t1.Gender,sum(t1.Toilets) as toilets from (
			SELECT cte.schNo,'M' as Gender,
			sum(cast(isnull(BoysToilets,0) as int)) as Toilets
			from warehouse.TempWashCoreSurveyData tmp 
			join (
					Select schNo, MAX(inspStart) inspStart from warehouse.TempWashCoreSurveyData
					where InspectionYear = $P{Year} Group by schNo,InspectionYear
				) cte on 
				tmp.schNo = cte.schNo and tmp.inspStart = cte.inspStart 
				where SubGroupName='Sanitation' and InspectionYear =$P{Year} group by cte.schNo

			UNION ALL

				SELECT cte.schNo,'F' as Gender,
			sum(cast(isnull(GirlsToilets,0) as int)) as Toilets
			from warehouse.TempWashCoreSurveyData tmp 
			join (
					Select schNo, MAX(inspStart) inspStart from warehouse.TempWashCoreSurveyData
					where InspectionYear = $P{Year} Group by schNo,InspectionYear
				) cte on 
				tmp.schNo = cte.schNo and tmp.inspStart = cte.inspStart 
				where SubGroupName='Sanitation' and InspectionYear =$P{Year} group by cte.schNo

		
			UNION ALL

					SELECT cte.schNo,'C' as Gender,
			sum(cast(isnull(CommonUseToilets,0) as int)) as Toilets
			from warehouse.TempWashCoreSurveyData tmp 
			join (
					Select schNo, MAX(inspStart) inspStart from warehouse.TempWashCoreSurveyData
					where InspectionYear = $P{Year} Group by schNo,InspectionYear
				) cte on 
				tmp.schNo = cte.schNo and tmp.inspStart = cte.inspStart 
				where SubGroupName='Sanitation' and InspectionYear =$P{Year} group by cte.schNo

		)t1 group by t1.Gender,t1.schNo
	)t2

	join 

	(
		select st.schno, st.GenderCode,sum(st.Students) as students from (
			select 
				schno, 
				surveyYear,
				GenderCode,
				sum(isnull(Enrol,0)) as Students from 
				warehouse.enrol where surveyYear=$P{Year} group by surveyYear,schNo,GenderCode
			union all
				select 
				schno,
				surveyYear,
				'C',sum(isnull(Enrol,0)) as Students from 
				warehouse.enrol where surveyYear=$P{Year} group by surveyYear,schNo)st group by st.schNo, st.GenderCode
	)tmp on t2.schNo=tmp.schNo and t2.Gender=tmp.GenderCode

	 join Schools s on tmp.schNo=s.schNo
	join Islands i on s.iCode=i.iCode
	join Districts di on i.iGroup=di.dID
)z group by z.dName,z.Gender
	   ------------------------------------End of Query 1-----------------------------------------------
END
ELSE
BEGIN
       --------------------------------------Query 2----------------------------------------------------

	select 
	Districts.dName,
	isnull(a.genderCode,'') as genderCode,
	isnull(a.toiUse,'') as toiUse,
	isnull(b.Students,0) as Students,
	isnull(a.totalToilets,0) as totalToilets, 
	case 
	when isnull(b.Students,0)>0 
	then isnull(b.Students/nullif(a.totalToilets,0),0) 
	else 0 end as Average
	from 
			(select t2.dCode,t1.genderCode,t1.toiUse,sum(t1.total) as totalToilets from 
			(
			
			select ssID,
			case when toiUse='Boys' then  'M'
				 when toiUse='Girls' then 'F'
	                    else 'C' end as genderCode,
	toiUse,
	sum(toiNumUsable) as total  
	from Toilets group by toiUse,ssID)t1
	right join
	(select 
		d.dID as 'dCode',
		tts.schNo ,
		SurveyDimensionID 
		from warehouse.TempToiletsSurvey tts
		join Schools sch on tts.schNo=sch.schNo
		join Islands i on sch.iCode=i.iCode
		join Districts d on i.iGroup=d.dID
		where SurveyYear= $P{Year})t2 on t1.ssID=t2.SurveyDimensionID 
group by t2.dCode,t1.genderCode,t1.toiUse)a

left join 
(
	select 
e.dCode as dCode,
e.GenderCode,SUM(e.Students) as Students 
	from (
			select 
				   did as 'dCode',
				   c.schNo,
				   c.surveyYear,
				   c.GenderCode,c.Students 
				   from (select en.schno,
							d.did,
							surveyYear,
							GenderCode,
							sum(isnull(Enrol,0)) as Students 
							from warehouse.enrol en 
							join Schools sch on en.schNo=sch.schNo
							join Islands i on sch.iCode=i.iCode
							join Districts d on i.iGroup=d.dID
							where surveyYear= $P{Year}   group by d.dID, surveyYear,en.schNo,GenderCode
union all
select 
		d.dID  as 'dcode',
		en.schNo,
		surveyYear,
		'C',
		sum(isnull(Enrol,0)) as Students 
		from warehouse.enrol en
		join Schools sch on en.schNo=sch.schNo
		join Islands i on sch.iCode=i.iCode
		join Districts d on i.iGroup=d.dID
		where surveyYear= $P{Year}   group by d.dID,surveyYear,en.schNo)c 
		right join warehouse.TempToiletsSurvey ml on c.schNo=ml.schNo and c.surveyYear=ml.SurveyYear)e 

		inner join warehouse.TempToiletsSurvey ml on e.schNo=ml.schNo and e.surveyYear=ml.SurveyYear 
group by e.dCode,e.GenderCode
)b on a.dCode=b.dCode and a.genderCode=b.GenderCode 

right join Districts on a.dCode=Districts.dID
   ------------------------------------End of Query 2-----------------------------------------------
END]]>
	</queryString>
	<field name="dName" class="java.lang.String"/>
	<field name="genderCode" class="java.lang.String"/>
	<field name="toiUse" class="java.lang.String"/>
	<field name="Students" class="java.lang.Integer"/>
	<field name="totalToilets" class="java.lang.Integer"/>
	<field name="Average" class="java.lang.Integer"/>
	<summary>
		<band height="334" splitType="Stretch">
			<barChart>
				<chart evaluationTime="Report" renderType="svg" theme="aegean">
					<reportElement x="0" y="12" width="590" height="217" uuid="d29db3b2-7952-4344-935a-114ef1bf8586">
						<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					</reportElement>
					<chartTitle/>
					<chartSubtitle/>
					<chartLegend position="Bottom"/>
				</chart>
				<categoryDataset>
					<categorySeries>
						<seriesExpression><![CDATA[$F{toiUse}]]></seriesExpression>
						<categoryExpression><![CDATA[$F{dName}]]></categoryExpression>
						<valueExpression><![CDATA[$F{totalToilets}]]></valueExpression>
						<labelExpression><![CDATA[$F{toiUse}]]></labelExpression>
					</categorySeries>
				</categoryDataset>
				<barPlot>
					<plot/>
					<itemLabel/>
					<categoryAxisFormat>
						<axisFormat labelColor="#000000" tickLabelColor="#000000" axisLineColor="#000000"/>
					</categoryAxisFormat>
					<valueAxisFormat>
						<axisFormat labelColor="#000000" tickLabelColor="#000000" axisLineColor="#000000"/>
					</valueAxisFormat>
				</barPlot>
			</barChart>
			<staticText>
				<reportElement x="0" y="231" width="259" height="20" uuid="929467b4-eaa1-4219-a78b-0d8ddc684260"/>
				<textElement>
					<font fontName="Open Sans" size="9"/>
				</textElement>
				<text><![CDATA[Note : Total students are considered from surveyed schools students ]]></text>
			</staticText>
			<componentElement>
				<reportElement x="0" y="262" width="490" height="60" uuid="39fd59d5-6c08-4bf5-a746-74818b46984a">
					<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.VerticalRowLayout"/>
					<property name="com.jaspersoft.studio.table.style.table_header" value="Table_TH"/>
					<property name="com.jaspersoft.studio.table.style.column_header" value="Table_CH"/>
					<property name="com.jaspersoft.studio.table.style.detail" value="Table_TD"/>
				</reportElement>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="Dataset1" uuid="37b15dd4-f346-420e-9ce2-76f3d46bd928">
						<datasetParameter name="Year">
							<datasetParameterExpression><![CDATA[$P{Year}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="110" uuid="941059e7-bb70-47fc-b6bc-baabc905a887">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column1"/>
						<jr:tableFooter height="20" rowSpan="1">
							<box>
								<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<textField>
								<reportElement mode="Opaque" x="0" y="0" width="110" height="20" backcolor="#F2F2F2" uuid="4b656a10-22ee-457d-9a21-960713007f6a"/>
								<textElement verticalAlignment="Middle">
									<font fontName="Open Sans Semibold" size="10"/>
								</textElement>
								<textFieldExpression><![CDATA["Total"]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:groupHeader groupName="Group1">
							<jr:cell height="20" rowSpan="1">
								<box>
									<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
									<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
									<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
									<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								</box>
								<textField>
									<reportElement mode="Transparent" x="0" y="0" width="110" height="20" uuid="e7a3b53a-4d2a-4b5c-a7c4-8cd25bc18347"/>
									<box>
										<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
										<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
										<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
										<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
									</box>
									<textElement verticalAlignment="Middle">
										<font fontName="Open Sans Semibold" size="10"/>
									</textElement>
									<textFieldExpression><![CDATA[$F{dName}]]></textFieldExpression>
								</textField>
							</jr:cell>
						</jr:groupHeader>
						<jr:columnHeader height="20" rowSpan="1">
							<box>
								<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#C8C8C8"/>
								<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="110" height="20" backcolor="#F2F2F2" uuid="57f66f76-818a-49bb-a387-032916ecc43d"/>
								<box>
									<pen lineWidth="1.0" lineStyle="Solid"/>
									<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
									<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
									<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#C8C8C8"/>
									<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Open Sans Semibold" size="10"/>
								</textElement>
								<text><![CDATA[Atoll and Islands]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell height="20">
							<box>
								<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							</box>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="a5aae5cd-039d-4867-a618-92cf5334a7e8">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column2"/>
						<jr:tableFooter height="20" rowSpan="1">
							<box>
								<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<textField>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="20" backcolor="#F2F2F2" uuid="331dd4d2-6b14-4276-8da3-e989878f1ac1"/>
								<textFieldExpression><![CDATA[""]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:columnHeader height="20" rowSpan="1">
							<property name="com.jaspersoft.studio.unit.height" value="px"/>
							<box>
								<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="20" backcolor="#F2F2F2" uuid="f25d74df-6862-4746-9afd-2d221010bf53"/>
								<box>
									<pen lineWidth="1.0" lineStyle="Solid"/>
									<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
									<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
									<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#C8C8C8"/>
									<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Open Sans Semibold" size="10"/>
								</textElement>
								<text><![CDATA["Gender"]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell height="20">
							<box>
								<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<textField>
								<reportElement style="Row" mode="Opaque" x="0" y="0" width="90" height="20" uuid="6cd8eb0b-897f-4f7b-a97b-41315e5f3136"/>
								<box>
									<bottomPen lineWidth="1.0" lineStyle="Dotted" lineColor="#C8C8C8"/>
								</box>
								<textElement verticalAlignment="Middle">
									<font fontName="Open Sans" size="10"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{toiUse}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="d6626444-532a-4ac0-872e-741b26291463">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column3"/>
						<jr:tableFooter height="20" rowSpan="1">
							<box>
								<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<textField>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="20" backcolor="#F2F2F2" uuid="98bd4afa-81db-409f-96d0-3cddf73b1c25"/>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Open Sans Semibold" size="10"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{TotalStudents}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:columnHeader height="20" rowSpan="1">
							<property name="com.jaspersoft.studio.unit.height" value="px"/>
							<box>
								<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="20" backcolor="#F2F2F2" uuid="177427ac-d7cc-4d32-b35f-a02f1ede2542"/>
								<box>
									<pen lineWidth="1.0" lineStyle="Solid"/>
									<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
									<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
									<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#C8C8C8"/>
									<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Open Sans Semibold" size="10"/>
								</textElement>
								<text><![CDATA[Total Students]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell height="20">
							<box>
								<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<textField>
								<reportElement style="Row" mode="Opaque" x="0" y="0" width="90" height="20" uuid="6ab9c503-7cd9-42e1-8bd9-6635576bfc61"/>
								<box>
									<bottomPen lineWidth="1.0" lineStyle="Dotted" lineColor="#C8C8C8"/>
								</box>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Open Sans" size="10"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{Students}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="8eb81854-df4d-47b9-9977-e156788b6d2d">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column4"/>
						<jr:tableFooter height="20" rowSpan="1">
							<box>
								<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<textField>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="20" backcolor="#F2F2F2" uuid="571e07f8-3ae5-4f27-9cd0-42104caad783"/>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Open Sans Semibold" size="10"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{TotalToilets}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:columnHeader height="20" rowSpan="1">
							<property name="com.jaspersoft.studio.unit.height" value="px"/>
							<box>
								<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="20" backcolor="#F2F2F2" uuid="62ee6301-433e-4819-8447-de71a17fd245"/>
								<box>
									<pen lineWidth="1.0" lineStyle="Solid"/>
									<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
									<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
									<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#C8C8C8"/>
									<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Open Sans Semibold" size="10"/>
								</textElement>
								<text><![CDATA[Total Toilets]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell height="20">
							<box>
								<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<textField>
								<reportElement style="Row" mode="Opaque" x="0" y="0" width="90" height="20" uuid="7c5fbb14-659d-4648-aa88-e5e05f9a0046"/>
								<box>
									<bottomPen lineWidth="1.0" lineStyle="Dotted" lineColor="#C8C8C8"/>
								</box>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Open Sans" size="10"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{totalToilets}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="3537efe6-bec5-43f0-87b1-7eb1737f6e98">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column5"/>
						<jr:tableFooter height="20" rowSpan="1">
							<box>
								<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<textField>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="20" backcolor="#F2F2F2" uuid="0289b561-b857-462a-959a-799a4eb787b9"/>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Open Sans Semibold" size="10"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{TotalToilets}==0 ? 0 :( $V{TotalStudents}/$V{TotalToilets})]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:columnHeader height="20" rowSpan="1">
							<property name="com.jaspersoft.studio.unit.height" value="px"/>
							<box>
								<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="20" backcolor="#F2F2F2" uuid="980e8bfd-70b9-4dfa-ac7f-6785f87f4f76"/>
								<box>
									<pen lineWidth="1.0" lineStyle="Solid"/>
									<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
									<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
									<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#C8C8C8"/>
									<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Open Sans Semibold" size="10"/>
								</textElement>
								<text><![CDATA[Average]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell height="20">
							<box>
								<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
								<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<textField>
								<reportElement style="Row" mode="Opaque" x="0" y="0" width="90" height="20" uuid="5ac39cbb-2f7b-467d-8e67-3ef67e808313"/>
								<box>
									<bottomPen lineWidth="1.0" lineStyle="Dotted" lineColor="#C8C8C8"/>
								</box>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Open Sans" size="10"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{Average}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
				</jr:table>
			</componentElement>
		</band>
	</summary>
</jasperReport>
